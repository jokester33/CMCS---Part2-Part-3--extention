@model CMCS.Models.Claim
@{
    ViewData["Title"] = "Submit Automated Claim";
}
<div class="container mt-5">
    <h2 class="mb-4 text-center text-primary">Submit New Claim (Automated)</h2>
    <form asp-action="CreateAutomated" enctype="multipart/form-data">
        <div class="mb-3">
            <label class="form-label">Lecturer Name</label>
            <input asp-for="LecturerName" class="form-control" />
            <span asp-validation-for="LecturerName" class="text-danger"></span>
        </div>
        <div class="mb-3">
            <label class="form-label">Submitted Date</label>
            <input asp-for="SubmittedDate" class="form-control" />
            <span asp-validation-for="SubmittedDate" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label class="form-label">Hours Worked</label>
            <input asp-for="HoursWorked" class="form-control" />
            <span asp-validation-for="HoursWorked" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label class="form-label">Hourly Rate (R)</label>
            <input asp-for="HourlyRate" class="form-control" />
            <span asp-validation-for="HourlyRate" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label class="form-label">Total Payment (R)</label>
            <input asp-for="TotalPay" class="form-control" readonly />
        </div>

        <div class="mb-3">
            <label class="form-label">Upload Supporting Document</label>
            <input type="file" name="upload" class="form-control" accept=".pdf,.docx,.xlsx" />
        </div>

        <button type="submit" class="btn btn-success w-100">Submit Claim</button>

    </form>
</div>
@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $("#HoursWorked, #HourlyRate").on("input", function () {
            let HoursWorked = parseFloat($("#HoursWorked").val()) || 0;
            let HourlyRate = parseFloat($("#HourlyRate").val()) || 0;
            $("#total").val((HoursWorked * HourlyRate).toFixed(2));
        });
    </script>
}

